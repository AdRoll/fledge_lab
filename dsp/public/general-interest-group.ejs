<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DSP</title>
  </head>

  <body></body>
</html>

<script>
  const generalAdGroup = {
    owner: "https://<%= dsp_name %>",
    name: "general-visitor",
    biddingLogicUrl: "https://<%= dsp_name %>/bidding_logic.js",
    trustedBiddingSignalsUrl: "https://<%= dsp_name %>/bidding_signal.json",
    trustedBiddingSignalsKeys: ["key1", "key2"],
    dailyUpdateUrl: "https://<%= dsp_name %>/daily_update_url",
    userBiddingSignals: {
      user_bidding_signals: "user_bidding_signals",
    },
    ads: [
      {
        renderUrl: "https://advertiser/ads/general-ad",
      },
    ],
  };

  document.addEventListener("DOMContentLoaded", async (e) => {
    console.log(e);
    const kSecsPerDay = 3600 * 24 * 30;
    console.log(
      await navigator.joinAdInterestGroup(generalAdGroup, kSecsPerDay)
    );
  });
</script>
